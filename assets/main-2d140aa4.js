(function(){const A=document.createElement("link").relList;if(A&&A.supports&&A.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var C=globalThis&&globalThis.__awaiter||function(e,A,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(r){try{d(n.next(r))}catch(u){o(u)}}function c(r){try{d(n.throw(r))}catch(u){o(u)}}function d(r){r.done?s(r.value):i(r.value).then(a,c)}d((n=n.apply(e,A||[])).next())})};class me{constructor(A){this.messageBus=A}get id(){if(!this.messageBus.userId)throw Error("Unable to get user ID: not ready");return this.messageBus.userId}getSelection(){return C(this,void 0,void 0,function*(){const{selection:A}=yield this.messageBus.sendAsync("OBR_PLAYER_GET_SELECTION",{});return A})}select(A,t){return C(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_PLAYER_SELECT",{items:A,replace:t})})}deselect(A){return C(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_PLAYER_DESELECt",{items:A})})}getName(){return C(this,void 0,void 0,function*(){const{name:A}=yield this.messageBus.sendAsync("OBR_PLAYER_GET_NAME",{});return A})}setName(A){return C(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_PLAYER_SET_NAME",{name:A})})}getColor(){return C(this,void 0,void 0,function*(){const{color:A}=yield this.messageBus.sendAsync("OBR_PLAYER_GET_COLOR",{});return A})}setColor(A){return C(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_PLAYER_SET_COLOR",{color:A})})}getSyncView(){return C(this,void 0,void 0,function*(){const{syncView:A}=yield this.messageBus.sendAsync("OBR_PLAYER_GET_SYNC_VIEW",{});return A})}setSyncView(A){return C(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_PLAYER_SET_SYNC_VIEW",{syncView:A})})}getId(){return C(this,void 0,void 0,function*(){const{id:A}=yield this.messageBus.sendAsync("OBR_PLAYER_GET_ID",{});return A})}getRole(){return C(this,void 0,void 0,function*(){const{role:A}=yield this.messageBus.sendAsync("OBR_PLAYER_GET_ROLE",{});return A})}getMetadata(){return C(this,void 0,void 0,function*(){const{metadata:A}=yield this.messageBus.sendAsync("OBR_PLAYER_GET_METADATA",{});return A})}setMetadata(A){return C(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_PLAYER_SET_METADATA",{update:A})})}hasPermission(A){return C(this,void 0,void 0,function*(){if((yield this.getRole())==="GM")return!0;const{permissions:n}=yield this.messageBus.sendAsync("OBR_ROOM_GET_PERMISSIONS",{});return n.indexOf(A)===-1})}getConnectionId(){return C(this,void 0,void 0,function*(){const{connectionId:A}=yield this.messageBus.sendAsync("OBR_PLAYER_GET_CONNECTION_ID",{});return A})}onChange(A){const t=n=>{A(n.player)};return this.messageBus.send("OBR_PLAYER_SUBSCRIBE",{}),this.messageBus.on("OBR_PLAYER_EVENT_CHANGE",t),()=>{this.messageBus.send("OBR_PLAYER_UNSUBSCRIBE",{}),this.messageBus.off("OBR_PLAYER_EVENT_CHANGE",t)}}}var b=globalThis&&globalThis.__awaiter||function(e,A,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(r){try{d(n.next(r))}catch(u){o(u)}}function c(r){try{d(n.throw(r))}catch(u){o(u)}}function d(r){r.done?s(r.value):i(r.value).then(a,c)}d((n=n.apply(e,A||[])).next())})};class Ee{constructor(A){this.messageBus=A}reset(){return b(this,void 0,void 0,function*(){const{transform:A}=yield this.messageBus.sendAsync("OBR_VIEWPORT_RESET",{});return A})}animateTo(A){return b(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_VIEWPORT_ANIMATE_TO",{transform:A})})}animateToBounds(A){return b(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_VIEWPORT_ANIMATE_TO_BOUNDS",{bounds:A})})}getPosition(){return b(this,void 0,void 0,function*(){const{position:A}=yield this.messageBus.sendAsync("OBR_VIEWPORT_GET_POSITION",{});return A})}setPosition(A){return b(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_VIEWPORT_SET_POSITION",{position:A})})}getScale(){return b(this,void 0,void 0,function*(){const{scale:A}=yield this.messageBus.sendAsync("OBR_VIEWPORT_GET_SCALE",{});return A})}setScale(A){return b(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_VIEWPORT_SET_SCALE",{scale:A})})}getWidth(){return b(this,void 0,void 0,function*(){const{width:A}=yield this.messageBus.sendAsync("OBR_VIEWPORT_GET_WIDTH",{});return A})}getHeight(){return b(this,void 0,void 0,function*(){const{height:A}=yield this.messageBus.sendAsync("OBR_VIEWPORT_GET_HEIGHT",{});return A})}transformPoint(A){return b(this,void 0,void 0,function*(){const{point:t}=yield this.messageBus.sendAsync("OBR_VIEWPORT_TRANSFORM_POINT",{point:A});return t})}inverseTransformPoint(A){return b(this,void 0,void 0,function*(){const{point:t}=yield this.messageBus.sendAsync("OBR_VIEWPORT_INVERSE_TRANSFORM_POINT",{point:A});return t})}}function Te(e){return typeof e.id=="string"}var CA={exports:{}},K=typeof Reflect=="object"?Reflect:null,qA=K&&typeof K.apply=="function"?K.apply:function(A,t,n){return Function.prototype.apply.call(A,t,n)},nA;K&&typeof K.ownKeys=="function"?nA=K.ownKeys:Object.getOwnPropertySymbols?nA=function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:nA=function(A){return Object.getOwnPropertyNames(A)};function ge(e){console&&console.warn&&console.warn(e)}var ne=Number.isNaN||function(A){return A!==A};function v(){v.init.call(this)}CA.exports=v;CA.exports.once=_e;v.EventEmitter=v;v.prototype._events=void 0;v.prototype._eventsCount=0;v.prototype._maxListeners=void 0;var WA=10;function aA(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(v,"defaultMaxListeners",{enumerable:!0,get:function(){return WA},set:function(e){if(typeof e!="number"||e<0||ne(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");WA=e}});v.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};v.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||ne(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this};function ie(e){return e._maxListeners===void 0?v.defaultMaxListeners:e._maxListeners}v.prototype.getMaxListeners=function(){return ie(this)};v.prototype.emit=function(A){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i=A==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[A];if(c===void 0)return!1;if(typeof c=="function")qA(c,this,t);else for(var d=c.length,r=de(c,d),n=0;n<d;++n)qA(r[n],this,t);return!0};function se(e,A,t,n){var i,s,o;if(aA(t),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",A,t.listener?t.listener:t),s=e._events),o=s[A]),o===void 0)o=s[A]=t,++e._eventsCount;else if(typeof o=="function"?o=s[A]=n?[t,o]:[o,t]:n?o.unshift(t):o.push(t),i=ie(e),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=A,a.count=o.length,ge(a)}return e}v.prototype.addListener=function(A,t){return se(this,A,t,!1)};v.prototype.on=v.prototype.addListener;v.prototype.prependListener=function(A,t){return se(this,A,t,!0)};function ye(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function oe(e,A,t){var n={fired:!1,wrapFn:void 0,target:e,type:A,listener:t},i=ye.bind(n);return i.listener=t,n.wrapFn=i,i}v.prototype.once=function(A,t){return aA(t),this.on(A,oe(this,A,t)),this};v.prototype.prependOnceListener=function(A,t){return aA(t),this.prependListener(A,oe(this,A,t)),this};v.prototype.removeListener=function(A,t){var n,i,s,o,a;if(aA(t),i=this._events,i===void 0)return this;if(n=i[A],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[A],i.removeListener&&this.emit("removeListener",A,n.listener||t));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():Oe(n,s),n.length===1&&(i[A]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",A,a||t)}return this};v.prototype.off=v.prototype.removeListener;v.prototype.removeAllListeners=function(A){var t,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[A]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[A],typeof t=="function")this.removeListener(A,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(A,t[i]);return this};function re(e,A,t){var n=e._events;if(n===void 0)return[];var i=n[A];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?Be(i):de(i,i.length)}v.prototype.listeners=function(A){return re(this,A,!0)};v.prototype.rawListeners=function(A){return re(this,A,!1)};v.listenerCount=function(e,A){return typeof e.listenerCount=="function"?e.listenerCount(A):ae.call(e,A)};v.prototype.listenerCount=ae;function ae(e){var A=this._events;if(A!==void 0){var t=A[e];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}v.prototype.eventNames=function(){return this._eventsCount>0?nA(this._events):[]};function de(e,A){for(var t=new Array(A),n=0;n<A;++n)t[n]=e[n];return t}function Oe(e,A){for(;A+1<e.length;A++)e[A]=e[A+1];e.pop()}function Be(e){for(var A=new Array(e.length),t=0;t<A.length;++t)A[t]=e[t].listener||e[t];return A}function _e(e,A){return new Promise(function(t,n){function i(o){e.removeListener(A,s),n(o)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",i),t([].slice.call(arguments))}ue(e,A,s,{once:!0}),A!=="error"&&Ce(e,i,{once:!0})})}function Ce(e,A,t){typeof e.on=="function"&&ue(e,"error",A,t)}function ue(e,A,t,n){if(typeof e.on=="function")n.once?e.once(A,t):e.on(A,t);else if(typeof e.addEventListener=="function")e.addEventListener(A,function i(s){n.once&&e.removeEventListener(A,i),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Se=CA.exports;let AA;const Re=new Uint8Array(16);function Le(){if(!AA&&(AA=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!AA))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return AA(Re)}const T=[];for(let e=0;e<256;++e)T.push((e+256).toString(16).slice(1));function Ne(e,A=0){return(T[e[A+0]]+T[e[A+1]]+T[e[A+2]]+T[e[A+3]]+"-"+T[e[A+4]]+T[e[A+5]]+"-"+T[e[A+6]]+T[e[A+7]]+"-"+T[e[A+8]]+T[e[A+9]]+"-"+T[e[A+10]]+T[e[A+11]]+T[e[A+12]]+T[e[A+13]]+T[e[A+14]]+T[e[A+15]]).toLowerCase()}const be=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xA={randomUUID:be};function Ie(e,A,t){if(xA.randomUUID&&!A&&!e)return xA.randomUUID();e=e||{};const n=e.random||(e.rng||Le)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,A){t=t||0;for(let i=0;i<16;++i)A[t+i]=n[i];return A}return Ne(n)}class Me extends Se.EventEmitter{constructor(A,t){super(),this.ready=!1,this.userId=null,this.ref=null,this.handleMessage=n=>{const i=n.data;if(n.origin===this.targetOrigin&&Te(i)){if(i.id==="OBR_READY"){this.ready=!0;const s=i.data;this.ref=s.ref,this.userId=s.userId}this.emit(i.id,i.data)}},this.send=(n,i,s)=>{var o;if(!this.ref)throw Error("Unable to send message: not ready");(o=window.parent)===null||o===void 0||o.postMessage({id:n,data:i,ref:this.ref,nonce:s},this.targetOrigin)},this.sendAsync=(n,i,s=5e3)=>{const o=`_${Ie()}`;return this.send(n,i,o),Promise.race([new Promise((a,c)=>{const d=this;function r(l){d.off(`${n}_RESPONSE${o}`,r),d.off(`${n}_ERROR${o}`,u),a(l)}function u(l){d.off(`${n}_RESPONSE${o}`,r),d.off(`${n}_ERROR${o}`,u),c(l)}this.on(`${n}_RESPONSE${o}`,r),this.on(`${n}_ERROR${o}`,u)}),new Promise((a,c)=>window.setTimeout(()=>c(new Error(`Message ${n} took longer than ${s}ms to get a result`)),s))])},this.roomId=t,this.targetOrigin=A,window.addEventListener("message",this.handleMessage),this.setMaxListeners(100)}destroy(){window.removeEventListener("message",this.handleMessage)}}var GA=globalThis&&globalThis.__awaiter||function(e,A,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(r){try{d(n.next(r))}catch(u){o(u)}}function c(r){try{d(n.throw(r))}catch(u){o(u)}}function d(r){r.done?s(r.value):i(r.value).then(a,c)}d((n=n.apply(e,A||[])).next())})};class Ve{constructor(A){this.messageBus=A}show(A,t){return GA(this,void 0,void 0,function*(){const{id:n}=yield this.messageBus.sendAsync("OBR_NOTIFICATION_SHOW",{message:A,variant:t});return n})}close(A){return GA(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_NOTIFICATION_CLOSE",{id:A})})}}var Z=globalThis&&globalThis.__awaiter||function(e,A,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(r){try{d(n.next(r))}catch(u){o(u)}}function c(r){try{d(n.throw(r))}catch(u){o(u)}}function d(r){r.done?s(r.value):i(r.value).then(a,c)}d((n=n.apply(e,A||[])).next())})};class we{constructor(A){this.messageBus=A}getColor(){return Z(this,void 0,void 0,function*(){const{color:A}=yield this.messageBus.sendAsync("OBR_SCENE_FOG_GET_COLOR",{});return A})}setColor(A){return Z(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_SCENE_FOG_SET_COLOR",{color:A})})}getStrokeWidth(){return Z(this,void 0,void 0,function*(){const{strokeWidth:A}=yield this.messageBus.sendAsync("OBR_SCENE_FOG_GET_STROKE_WIDTH",{});return A})}setStrokeWidth(A){return Z(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_SCENE_FOG_SET_STROKE_WIDTH",{strokeWidth:A})})}getFilled(){return Z(this,void 0,void 0,function*(){const{filled:A}=yield this.messageBus.sendAsync("OBR_SCENE_FOG_GET_FILLED",{});return A})}setFilled(A){return Z(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_SCENE_FOG_SET_FILLED",{filled:A})})}onChange(A){const t=n=>{A(n.fog)};return this.messageBus.send("OBR_SCENE_FOG_SUBSCRIBE",{}),this.messageBus.on("OBR_SCENE_FOG_EVENT_CHANGE",t),()=>{this.messageBus.send("OBR_SCENE_FOG_UNSUBSCRIBE",{}),this.messageBus.off("OBR_SCENE_FOG_EVENT_CHANGE",t)}}}var S=globalThis&&globalThis.__awaiter||function(e,A,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(r){try{d(n.next(r))}catch(u){o(u)}}function c(r){try{d(n.throw(r))}catch(u){o(u)}}function d(r){r.done?s(r.value):i(r.value).then(a,c)}d((n=n.apply(e,A||[])).next())})};class Ue{constructor(A){this.messageBus=A}getDpi(){return S(this,void 0,void 0,function*(){const{dpi:A}=yield this.messageBus.sendAsync("OBR_SCENE_GRID_GET_DPI",{});return A})}getScale(){return S(this,void 0,void 0,function*(){return yield this.messageBus.sendAsync("OBR_SCENE_GRID_GET_SCALE",{})})}setScale(A){return S(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_SCENE_GRID_SET_SCALE",{scale:A})})}getColor(){return S(this,void 0,void 0,function*(){const{color:A}=yield this.messageBus.sendAsync("OBR_SCENE_GRID_GET_COLOR",{});return A})}setColor(A){return S(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_SCENE_GRID_SET_COLOR",{color:A})})}getOpacity(){return S(this,void 0,void 0,function*(){const{opacity:A}=yield this.messageBus.sendAsync("OBR_SCENE_GRID_GET_OPACITY",{});return A})}setOpacity(A){return S(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_SCENE_GRID_SET_OPACITY",{opacity:A})})}getType(){return S(this,void 0,void 0,function*(){const{type:A}=yield this.messageBus.sendAsync("OBR_SCENE_GRID_GET_TYPE",{});return A})}setType(A){return S(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_SCENE_GRID_SET_TYPE",{type:A})})}getLineType(){return S(this,void 0,void 0,function*(){const{lineType:A}=yield this.messageBus.sendAsync("OBR_SCENE_GRID_GET_LINE_TYPE",{});return A})}setLineType(A){return S(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_SCENE_GRID_SET_LINE_TYPE",{lineType:A})})}getMeasurement(){return S(this,void 0,void 0,function*(){const{measurement:A}=yield this.messageBus.sendAsync("OBR_SCENE_GRID_GET_MEASUREMENT",{});return A})}setMeasurement(A){return S(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_SCENE_GRID_SET_MEASUREMENT",{measurement:A})})}snapPosition(A,t,n){return S(this,void 0,void 0,function*(){const{position:i}=yield this.messageBus.sendAsync("OBR_SCENE_GRID_SNAP_POSITION",{position:A,snappingSensitivity:t,useCorners:n});return i})}getDistance(A,t){return S(this,void 0,void 0,function*(){const{distance:n}=yield this.messageBus.sendAsync("OBR_SCENE_GRID_GET_DISTANCE",{from:A,to:t});return n})}onChange(A){const t=n=>{A(n.grid)};return this.messageBus.send("OBR_SCENE_GRID_SUBSCRIBE",{}),this.messageBus.on("OBR_SCENE_GRID_EVENT_CHANGE",t),()=>{this.messageBus.send("OBR_SCENE_GRID_UNSUBSCRIBE",{}),this.messageBus.off("OBR_SCENE_GRID_EVENT_CHANGE",t)}}}var eA=globalThis&&globalThis.__awaiter||function(e,A,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(r){try{d(n.next(r))}catch(u){o(u)}}function c(r){try{d(n.throw(r))}catch(u){o(u)}}function d(r){r.done?s(r.value):i(r.value).then(a,c)}d((n=n.apply(e,A||[])).next())})};class De{constructor(A){this.messageBus=A}undo(){return eA(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_SCENE_HISTORY_UNDO",{})})}redo(){return eA(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_SCENE_HISTORY_REDO",{})})}canUndo(){return eA(this,void 0,void 0,function*(){const{canUndo:A}=yield this.messageBus.sendAsync("OBR_SCENE_HISTORY_CAN_UNDO",{});return A})}canRedo(){return eA(this,void 0,void 0,function*(){const{canRedo:A}=yield this.messageBus.sendAsync("OBR_SCENE_HISTORY_CAN_REDO",{});return A})}}function g(e){for(var A=arguments.length,t=Array(A>1?A-1:0),n=1;n<A;n++)t[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(t.length?" "+t.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function P(e){return!!e&&!!e[L]}function q(e){var A;return!!e&&(function(t){if(!t||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===ke}(e)||Array.isArray(e)||!!e[Q]||!!(!((A=e.constructor)===null||A===void 0)&&A[Q])||dA(e)||uA(e))}function z(e,A,t){t===void 0&&(t=!1),W(e)===0?(t?Object.keys:MA)(e).forEach(function(n){t&&typeof n=="symbol"||A(n,e[n],e)}):e.forEach(function(n,i){return A(i,n,e)})}function W(e){var A=e[L];return A?A.i>3?A.i-4:A.i:Array.isArray(e)?1:dA(e)?2:uA(e)?3:0}function H(e,A){return W(e)===2?e.has(A):Object.prototype.hasOwnProperty.call(e,A)}function iA(e,A){return W(e)===2?e.get(A):e[A]}function ce(e,A,t){var n=W(e);n===2?e.set(A,t):n===3?e.add(t):e[A]=t}function qe(e,A){return e===A?e!==0||1/e==1/A:e!=e&&A!=A}function dA(e){return Ze&&e instanceof Map}function uA(e){return Xe&&e instanceof Set}function x(e){return e.o||e.t}function SA(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var A=Fe(e);delete A[L];for(var t=MA(A),n=0;n<t.length;n++){var i=t[n],s=A[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(A[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),A)}function RA(e,A){return A===void 0&&(A=!1),LA(e)||P(e)||!q(e)||(W(e)>1&&(e.set=e.add=e.clear=e.delete=We),Object.freeze(e),A&&z(e,function(t,n){return RA(n,!0)},!0)),e}function We(){g(2)}function LA(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function V(e){var A=yA[e];return A||g(18,e),A}function xe(e,A){yA[e]||(yA[e]=A)}function PA(){return $}function lA(e,A){A&&(V("Patches"),e.u=[],e.s=[],e.v=A)}function sA(e){EA(e),e.p.forEach(Ge),e.p=null}function EA(e){e===$&&($=e.l)}function ZA(e){return $={p:[],l:$,h:e,m:!0,_:0}}function Ge(e){var A=e[L];A.i===0||A.i===1?A.j():A.g=!0}function fA(e,A){A._=A.p.length;var t=A.p[0],n=e!==void 0&&e!==t;return A.h.O||V("ES5").S(A,e,n),n?(t[L].P&&(sA(A),g(4)),q(e)&&(e=oA(A,e),A.l||rA(A,e)),A.u&&V("Patches").M(t[L].t,e,A.u,A.s)):e=oA(A,t,[]),sA(A),A.u&&A.v(A.u,A.s),e!==IA?e:void 0}function oA(e,A,t){if(LA(A))return A;var n=A[L];if(!n)return z(A,function(a,c){return XA(e,n,A,a,c,t)},!0),A;if(n.A!==e)return A;if(!n.P)return rA(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=SA(n.k):n.o,s=i,o=!1;n.i===3&&(s=new Set(i),i.clear(),o=!0),z(s,function(a,c){return XA(e,n,i,a,c,t,o)}),rA(e,i,!1),t&&e.u&&V("Patches").N(n,t,e.u,e.s)}return n.o}function XA(e,A,t,n,i,s,o){if(P(i)){var a=oA(e,i,s&&A&&A.i!==3&&!H(A.R,n)?s.concat(n):void 0);if(ce(t,n,a),!P(a))return;e.m=!1}else o&&t.add(i);if(q(i)&&!LA(i)){if(!e.h.D&&e._<1)return;oA(e,i),A&&A.A.l||rA(e,i)}}function rA(e,A,t){t===void 0&&(t=!1),!e.l&&e.h.D&&e.m&&RA(A,t)}function hA(e,A){var t=e[L];return(t?x(t):e)[A]}function kA(e,A){if(A in e)for(var t=Object.getPrototypeOf(e);t;){var n=Object.getOwnPropertyDescriptor(t,A);if(n)return n;t=Object.getPrototypeOf(t)}}function TA(e){e.P||(e.P=!0,e.l&&TA(e.l))}function vA(e){e.o||(e.o=SA(e.t))}function gA(e,A,t){var n=dA(A)?V("MapSet").F(A,t):uA(A)?V("MapSet").T(A,t):e.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:PA(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},c=a,d=OA;o&&(c=[a],d=J);var r=Proxy.revocable(c,d),u=r.revoke,l=r.proxy;return a.k=l,a.j=u,l}(A,t):V("ES5").J(A,t);return(t?t.A:PA()).p.push(n),n}function Pe(e){return P(e)||g(22,e),function A(t){if(!q(t))return t;var n,i=t[L],s=W(t);if(i){if(!i.P&&(i.i<4||!V("ES5").K(i)))return i.t;i.I=!0,n=FA(t,s),i.I=!1}else n=FA(t,s);return z(n,function(o,a){i&&iA(i.t,o)===a||ce(n,o,A(a))}),s===3?new Set(n):n}(e)}function FA(e,A){switch(A){case 2:return new Map(e);case 3:return Array.from(e)}return SA(e)}function NA(){function e(n){if(!q(n))return n;if(Array.isArray(n))return n.map(e);if(dA(n))return new Map(Array.from(n.entries()).map(function(o){return[o[0],e(o[1])]}));if(uA(n))return new Set(Array.from(n).map(e));var i=Object.create(Object.getPrototypeOf(n));for(var s in n)i[s]=e(n[s]);return H(n,Q)&&(i[Q]=n[Q]),i}function A(n){return P(n)?e(n):n}var t="add";xe("Patches",{$:function(n,i){return i.forEach(function(s){for(var o=s.path,a=s.op,c=n,d=0;d<o.length-1;d++){var r=W(c),u=o[d];typeof u!="string"&&typeof u!="number"&&(u=""+u),r!==0&&r!==1||u!=="__proto__"&&u!=="constructor"||g(24),typeof c=="function"&&u==="prototype"&&g(24),typeof(c=iA(c,u))!="object"&&g(15,o.join("/"))}var l=W(c),f=e(s.value),h=o[o.length-1];switch(a){case"replace":switch(l){case 2:return c.set(h,f);case 3:g(16);default:return c[h]=f}case t:switch(l){case 1:return h==="-"?c.push(f):c.splice(h,0,f);case 2:return c.set(h,f);case 3:return c.add(f);default:return c[h]=f}case"remove":switch(l){case 1:return c.splice(h,1);case 2:return c.delete(h);case 3:return c.delete(s.value);default:return delete c[h]}default:g(17,a)}}),n},N:function(n,i,s,o){switch(n.i){case 0:case 4:case 2:return function(a,c,d,r){var u=a.t,l=a.o;z(a.R,function(f,h){var E=iA(u,f),O=iA(l,f),B=h?H(u,f)?"replace":t:"remove";if(E!==O||B!=="replace"){var _=c.concat(f);d.push(B==="remove"?{op:B,path:_}:{op:B,path:_,value:O}),r.push(B===t?{op:"remove",path:_}:B==="remove"?{op:t,path:_,value:A(E)}:{op:"replace",path:_,value:A(E)})}})}(n,i,s,o);case 5:case 1:return function(a,c,d,r){var u=a.t,l=a.R,f=a.o;if(f.length<u.length){var h=[f,u];u=h[0],f=h[1];var E=[r,d];d=E[0],r=E[1]}for(var O=0;O<u.length;O++)if(l[O]&&f[O]!==u[O]){var B=c.concat([O]);d.push({op:"replace",path:B,value:A(f[O])}),r.push({op:"replace",path:B,value:A(u[O])})}for(var _=u.length;_<f.length;_++){var U=c.concat([_]);d.push({op:t,path:U,value:A(f[_])})}u.length<f.length&&r.push({op:"replace",path:c.concat(["length"]),value:u.length})}(n,i,s,o);case 3:return function(a,c,d,r){var u=a.t,l=a.o,f=0;u.forEach(function(h){if(!l.has(h)){var E=c.concat([f]);d.push({op:"remove",path:E,value:h}),r.unshift({op:t,path:E,value:h})}f++}),f=0,l.forEach(function(h){if(!u.has(h)){var E=c.concat([f]);d.push({op:t,path:E,value:h}),r.unshift({op:"remove",path:E,value:h})}f++})}(n,i,s,o)}},M:function(n,i,s,o){s.push({op:"replace",path:[],value:i===IA?void 0:i}),o.push({op:"replace",path:[],value:n})}})}var KA,$,bA=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Ze=typeof Map<"u",Xe=typeof Set<"u",zA=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",IA=bA?Symbol.for("immer-nothing"):((KA={})["immer-nothing"]=!0,KA),Q=bA?Symbol.for("immer-draftable"):"__$immer_draftable",L=bA?Symbol.for("immer-state"):"__$immer_state",ke=""+Object.prototype.constructor,MA=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Fe=Object.getOwnPropertyDescriptors||function(e){var A={};return MA(e).forEach(function(t){A[t]=Object.getOwnPropertyDescriptor(e,t)}),A},yA={},OA={get:function(e,A){if(A===L)return e;var t=x(e);if(!H(t,A))return function(i,s,o){var a,c=kA(s,o);return c?"value"in c?c.value:(a=c.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,t,A);var n=t[A];return e.I||!q(n)?n:n===hA(e.t,A)?(vA(e),e.o[A]=gA(e.A.h,n,e)):n},has:function(e,A){return A in x(e)},ownKeys:function(e){return Reflect.ownKeys(x(e))},set:function(e,A,t){var n=kA(x(e),A);if(n?.set)return n.set.call(e.k,t),!0;if(!e.P){var i=hA(x(e),A),s=i?.[L];if(s&&s.t===t)return e.o[A]=t,e.R[A]=!1,!0;if(qe(t,i)&&(t!==void 0||H(e.t,A)))return!0;vA(e),TA(e)}return e.o[A]===t&&(t!==void 0||A in e.o)||Number.isNaN(t)&&Number.isNaN(e.o[A])||(e.o[A]=t,e.R[A]=!0),!0},deleteProperty:function(e,A){return hA(e.t,A)!==void 0||A in e.t?(e.R[A]=!1,vA(e),TA(e)):delete e.R[A],e.o&&delete e.o[A],!0},getOwnPropertyDescriptor:function(e,A){var t=x(e),n=Reflect.getOwnPropertyDescriptor(t,A);return n&&{writable:!0,configurable:e.i!==1||A!=="length",enumerable:n.enumerable,value:t[A]}},defineProperty:function(){g(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){g(12)}},J={};z(OA,function(e,A){J[e]=function(){return arguments[0]=arguments[0][0],A.apply(this,arguments)}}),J.deleteProperty=function(e,A){return J.set.call(this,e,A,void 0)},J.set=function(e,A,t){return OA.set.call(this,e[0],A,t,e[0])};var Ke=function(){function e(t){var n=this;this.O=zA,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var c=n;return function(E){var O=this;E===void 0&&(E=a);for(var B=arguments.length,_=Array(B>1?B-1:0),U=1;U<B;U++)_[U-1]=arguments[U];return c.produce(E,function(cA){var p;return(p=s).call.apply(p,[O,cA].concat(_))})}}var d;if(typeof s!="function"&&g(6),o!==void 0&&typeof o!="function"&&g(7),q(i)){var r=ZA(n),u=gA(n,i,void 0),l=!0;try{d=s(u),l=!1}finally{l?sA(r):EA(r)}return typeof Promise<"u"&&d instanceof Promise?d.then(function(E){return lA(r,o),fA(E,r)},function(E){throw sA(r),E}):(lA(r,o),fA(d,r))}if(!i||typeof i!="object"){if((d=s(i))===void 0&&(d=i),d===IA&&(d=void 0),n.D&&RA(d,!0),o){var f=[],h=[];V("Patches").M(i,d,f,h),o(f,h)}return d}g(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(d){for(var r=arguments.length,u=Array(r>1?r-1:0),l=1;l<r;l++)u[l-1]=arguments[l];return n.produceWithPatches(d,function(f){return i.apply(void 0,[f].concat(u))})};var o,a,c=n.produce(i,s,function(d,r){o=d,a=r});return typeof Promise<"u"&&c instanceof Promise?c.then(function(d){return[d,o,a]}):[c,o,a]},typeof t?.useProxies=="boolean"&&this.setUseProxies(t.useProxies),typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze)}var A=e.prototype;return A.createDraft=function(t){q(t)||g(8),P(t)&&(t=Pe(t));var n=ZA(this),i=gA(this,t,void 0);return i[L].C=!0,EA(n),i},A.finishDraft=function(t,n){var i=t&&t[L],s=i.A;return lA(s,n),fA(void 0,s)},A.setAutoFreeze=function(t){this.D=t},A.setUseProxies=function(t){t&&!zA&&g(20),this.O=t},A.applyPatches=function(t,n){var i;for(i=n.length-1;i>=0;i--){var s=n[i];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}i>-1&&(n=n.slice(i+1));var o=V("Patches").$;return P(t)?o(t,n):this.produce(t,function(a){return o(a,n)})},e}(),N=new Ke;N.produce;var VA=N.produceWithPatches.bind(N);N.setAutoFreeze.bind(N);N.setUseProxies.bind(N);N.applyPatches.bind(N);N.createDraft.bind(N);N.finishDraft.bind(N);var X=globalThis&&globalThis.__awaiter||function(e,A,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(r){try{d(n.next(r))}catch(u){o(u)}}function c(r){try{d(n.throw(r))}catch(u){o(u)}}function d(r){r.done?s(r.value):i(r.value).then(a,c)}d((n=n.apply(e,A||[])).next())})};NA();class ze{constructor(A){this.messageBus=A}getItems(A){return X(this,void 0,void 0,function*(){if(Array.isArray(A)){const{items:t}=yield this.messageBus.sendAsync("OBR_SCENE_ITEMS_GET_ITEMS",{ids:A});return t}else if(A){const{items:t}=yield this.messageBus.sendAsync("OBR_SCENE_ITEMS_GET_ALL_ITEMS",{});return t.filter(A)}else{const{items:t}=yield this.messageBus.sendAsync("OBR_SCENE_ITEMS_GET_ALL_ITEMS",{});return t}})}isItemArray(A){return Array.isArray(A)&&A.every(t=>typeof t!="string")}updateItems(A,t){return X(this,void 0,void 0,function*(){let n;this.isItemArray(A)?n=A:n=yield this.getItems(A);const[i,s]=VA(n,t),o=i.map(a=>({id:a.id,type:a.type}));for(const a of s){const[c,d]=a.path;typeof c=="number"&&typeof d=="string"&&(o[c][d]=i[c][d])}yield this.messageBus.sendAsync("OBR_SCENE_ITEMS_UPDATE_ITEMS",{updates:o})})}addItems(A){return X(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_SCENE_ITEMS_ADD_ITEMS",{items:A})})}deleteItems(A){return X(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_SCENE_ITEMS_DELETE_ITEMS",{ids:A})})}getItemAttachments(A){return X(this,void 0,void 0,function*(){const{items:t}=yield this.messageBus.sendAsync("OBR_SCENE_ITEMS_GET_ITEM_ATTACHMENTS",{ids:A});return t})}getItemBounds(A){return X(this,void 0,void 0,function*(){const{bounds:t}=yield this.messageBus.sendAsync("OBR_SCENE_ITEMS_GET_ITEM_BOUNDS",{ids:A});return t})}onChange(A){const t=n=>{A(n.items)};return this.messageBus.send("OBR_SCENE_ITEMS_SUBSCRIBE",{}),this.messageBus.on("OBR_SCENE_ITEMS_EVENT_CHANGE",t),()=>{this.messageBus.send("OBR_SCENE_ITEMS_UNSUBSCRIBE",{}),this.messageBus.off("OBR_SCENE_ITEMS_EVENT_CHANGE",t)}}}var k=globalThis&&globalThis.__awaiter||function(e,A,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(r){try{d(n.next(r))}catch(u){o(u)}}function c(r){try{d(n.throw(r))}catch(u){o(u)}}function d(r){r.done?s(r.value):i(r.value).then(a,c)}d((n=n.apply(e,A||[])).next())})};NA();class Je{constructor(A){this.messageBus=A}getItems(A){return k(this,void 0,void 0,function*(){if(Array.isArray(A)){const{items:t}=yield this.messageBus.sendAsync("OBR_SCENE_LOCAL_GET_ITEMS",{ids:A});return t}else if(A){const{items:t}=yield this.messageBus.sendAsync("OBR_SCENE_LOCAL_GET_ALL_ITEMS",{});return t.filter(A)}else{const{items:t}=yield this.messageBus.sendAsync("OBR_SCENE_LOCAL_GET_ALL_ITEMS",{});return t}})}updateItems(A,t,n){return k(this,void 0,void 0,function*(){const i=yield this.getItems(A),[s,o]=VA(i,t),a=s.map(c=>({id:c.id,type:c.type}));for(const c of o){const[d,r]=c.path;typeof d=="number"&&typeof r=="string"&&(a[d][r]=s[d][r])}yield this.messageBus.sendAsync("OBR_SCENE_LOCAL_UPDATE_ITEMS",{updates:a,fastUpdate:n})})}addItems(A){return k(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_SCENE_LOCAL_ADD_ITEMS",{items:A})})}deleteItems(A){return k(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_SCENE_LOCAL_DELETE_ITEMS",{ids:A})})}getItemAttachments(A){return k(this,void 0,void 0,function*(){const{items:t}=yield this.messageBus.sendAsync("OBR_SCENE_LOCAL_GET_ITEM_ATTACHMENTS",{ids:A});return t})}getItemBounds(A){return k(this,void 0,void 0,function*(){const{bounds:t}=yield this.messageBus.sendAsync("OBR_SCENE_LOCAL_GET_ITEM_BOUNDS",{ids:A});return t})}onChange(A){const t=n=>{A(n.items)};return this.messageBus.send("OBR_SCENE_LOCAL_SUBSCRIBE",{}),this.messageBus.on("OBR_SCENE_LOCAL_EVENT_CHANGE",t),()=>{this.messageBus.send("OBR_SCENE_LOCAL_UNSUBSCRIBE",{}),this.messageBus.off("OBR_SCENE_LOCAL_EVENT_CHANGE",t)}}}var pA=globalThis&&globalThis.__awaiter||function(e,A,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(r){try{d(n.next(r))}catch(u){o(u)}}function c(r){try{d(n.throw(r))}catch(u){o(u)}}function d(r){r.done?s(r.value):i(r.value).then(a,c)}d((n=n.apply(e,A||[])).next())})};class Qe{constructor(A){this.messageBus=A,this.grid=new Ue(A),this.fog=new we(A),this.history=new De(A),this.items=new ze(A),this.local=new Je(A)}isReady(){return pA(this,void 0,void 0,function*(){const{ready:A}=yield this.messageBus.sendAsync("OBR_SCENE_IS_READY",{});return A})}onReadyChange(A){const t=n=>{A(n.ready)};return this.messageBus.send("OBR_SCENE_READY_SUBSCRIBE",{}),this.messageBus.on("OBR_SCENE_EVENT_READY_CHANGE",t),()=>{this.messageBus.send("OBR_SCENE_READY_UNSUBSCRIBE",{}),this.messageBus.off("OBR_SCENE_EVENT_READY_CHANGE",t)}}getMetadata(){return pA(this,void 0,void 0,function*(){const{metadata:A}=yield this.messageBus.sendAsync("OBR_SCENE_GET_METADATA",{});return A})}setMetadata(A){return pA(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_SCENE_SET_METADATA",{update:A})})}onMetadataChange(A){const t=n=>{A(n.metadata)};return this.messageBus.send("OBR_SCENE_METADATA_SUBSCRIBE",{}),this.messageBus.on("OBR_SCENE_METADATA_EVENT_CHANGE",t),()=>{this.messageBus.send("OBR_SCENE_METADATA_UNSUBSCRIBE",{}),this.messageBus.off("OBR_SCENE_METADATA_EVENT_CHANGE",t)}}}function j(e){return e.map(A=>Object.assign(Object.assign({},A),{icon:A.icon.startsWith("http")?A.icon:`${window.location.origin}${A.icon}`}))}function le(e){return Object.assign(Object.assign({},e),{url:e.url.startsWith("http")?e.url:`${window.location.origin}${e.url}`})}var JA=globalThis&&globalThis.__awaiter||function(e,A,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(r){try{d(n.next(r))}catch(u){o(u)}}function c(r){try{d(n.throw(r))}catch(u){o(u)}}function d(r){r.done?s(r.value):i(r.value).then(a,c)}d((n=n.apply(e,A||[])).next())})};class je{constructor(A){this.contextMenus={},this.handleClick=t=>{const n=this.contextMenus[t.id];n&&n.onClick(t.context,t.elementId)},this.messageBus=A,A.on("OBR_CONTEXT_MENU_EVENT_CLICK",this.handleClick)}create(A){return JA(this,void 0,void 0,function*(){this.messageBus.sendAsync("OBR_CONTEXT_MENU_CREATE",{id:A.id,shortcut:A.shortcut,icons:j(A.icons)}),this.contextMenus[A.id]=A})}remove(A){return JA(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_CONTEXT_MENU_REMOVE",{id:A}),delete this.contextMenus[A]})}}var M=globalThis&&globalThis.__awaiter||function(e,A,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(r){try{d(n.next(r))}catch(u){o(u)}}function c(r){try{d(n.throw(r))}catch(u){o(u)}}function d(r){r.done?s(r.value):i(r.value).then(a,c)}d((n=n.apply(e,A||[])).next())})};class Ye{constructor(A){this.tools={},this.toolActions={},this.toolModes={},this.handleToolClick=t=>{const n=this.tools[t.id];if(n)if(n.onClick){const i=n.onClick(t.context,t.elementId);Promise.resolve(i).then(s=>{s&&this.messageBus.send("OBR_TOOL_ACTIVATE",{id:t.id})})}else this.messageBus.send("OBR_TOOL_ACTIVATE",{id:t.id})},this.handleToolActionClick=t=>{var n;const i=this.toolActions[t.id];i&&((n=i.onClick)===null||n===void 0||n.call(i,t.context,t.elementId))},this.handleToolModeClick=t=>{const n=this.toolModes[t.id];if(n)if(n.onClick){const i=n.onClick(t.context,t.elementId);Promise.resolve(i).then(s=>{s&&this.messageBus.send("OBR_TOOL_MODE_ACTIVATE",{toolId:t.context.activeTool,modeId:t.id})})}else this.messageBus.send("OBR_TOOL_MODE_ACTIVATE",{toolId:t.context.activeTool,modeId:t.id})},this.handleToolModeToolClick=t=>{const n=this.toolModes[t.id];if(n)if(n.onToolClick){const i=n.onToolClick(t.context,t.event);Promise.resolve(i).then(s=>{s&&t.event.target&&!t.event.target.locked&&this.messageBus.sendAsync("OBR_PLAYER_SELECT",{items:[t.event.target.id]})})}else t.event.target&&!t.event.target.locked&&this.messageBus.sendAsync("OBR_PLAYER_SELECT",{items:[t.event.target.id]})},this.handleToolModeToolDoubleClick=t=>{const n=this.toolModes[t.id];if(n)if(n.onToolDoubleClick){const i=n.onToolDoubleClick(t.context,t.event);Promise.resolve(i).then(s=>{s&&t.event.target&&this.messageBus.sendAsync("OBR_PLAYER_SELECT",{items:[t.event.target.id]})})}else t.event.target&&this.messageBus.sendAsync("OBR_PLAYER_SELECT",{items:[t.event.target.id]})},this.handleToolModeToolDown=t=>{var n;const i=this.toolModes[t.id];i&&((n=i.onToolDown)===null||n===void 0||n.call(i,t.context,t.event))},this.handleToolModeToolMove=t=>{var n;const i=this.toolModes[t.id];i&&((n=i.onToolMove)===null||n===void 0||n.call(i,t.context,t.event))},this.handleToolModeToolUp=t=>{var n;const i=this.toolModes[t.id];i&&((n=i.onToolUp)===null||n===void 0||n.call(i,t.context,t.event))},this.handleToolModeToolDragStart=t=>{var n;const i=this.toolModes[t.id];i&&((n=i.onToolDragStart)===null||n===void 0||n.call(i,t.context,t.event))},this.handleToolModeToolDragMove=t=>{var n;const i=this.toolModes[t.id];i&&((n=i.onToolDragMove)===null||n===void 0||n.call(i,t.context,t.event))},this.handleToolModeToolDragEnd=t=>{var n;const i=this.toolModes[t.id];i&&((n=i.onToolDragEnd)===null||n===void 0||n.call(i,t.context,t.event))},this.handleToolModeToolDragCancel=t=>{var n;const i=this.toolModes[t.id];i&&((n=i.onToolDragCancel)===null||n===void 0||n.call(i,t.context,t.event))},this.handleToolModeKeyDown=t=>{var n;const i=this.toolModes[t.id];i&&((n=i.onKeyDown)===null||n===void 0||n.call(i,t.context,t.event))},this.handleToolModeKeyUp=t=>{var n;const i=this.toolModes[t.id];i&&((n=i.onKeyUp)===null||n===void 0||n.call(i,t.context,t.event))},this.messageBus=A,A.on("OBR_TOOL_EVENT_CLICK",this.handleToolClick),A.on("OBR_TOOL_ACTION_EVENT_CLICK",this.handleToolActionClick),A.on("OBR_TOOL_MODE_EVENT_CLICK",this.handleToolModeClick),A.on("OBR_TOOL_MODE_EVENT_TOOL_CLICK",this.handleToolModeToolClick),A.on("OBR_TOOL_MODE_EVENT_TOOL_DOUBLE_CLICK",this.handleToolModeToolDoubleClick),A.on("OBR_TOOL_MODE_EVENT_TOOL_DOWN",this.handleToolModeToolDown),A.on("OBR_TOOL_MODE_EVENT_TOOL_MOVE",this.handleToolModeToolMove),A.on("OBR_TOOL_MODE_EVENT_TOOL_UP",this.handleToolModeToolUp),A.on("OBR_TOOL_MODE_EVENT_TOOL_DRAG_START",this.handleToolModeToolDragStart),A.on("OBR_TOOL_MODE_EVENT_TOOL_DRAG_MOVE",this.handleToolModeToolDragMove),A.on("OBR_TOOL_MODE_EVENT_TOOL_DRAG_END",this.handleToolModeToolDragEnd),A.on("OBR_TOOL_MODE_EVENT_TOOL_DRAG_CANCEL",this.handleToolModeToolDragCancel),A.on("OBR_TOOL_MODE_EVENT_KEY_DOWN",this.handleToolModeKeyDown),A.on("OBR_TOOL_MODE_EVENT_KEY_UP",this.handleToolModeKeyUp)}create(A){return M(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_TOOL_CREATE",{id:A.id,shortcut:A.shortcut,defaultMode:A.defaultMode,defaultMetadata:A.defaultMetadata,icons:j(A.icons),disabled:A.disabled}),this.tools[A.id]=A})}remove(A){return M(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_TOOL_REMOVE",{id:A}),delete this.tools[A]})}activateTool(A){return M(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_TOOL_ACTIVATE",{id:A})})}getMetadata(A){return M(this,void 0,void 0,function*(){const{metadata:t}=yield this.messageBus.sendAsync("OBR_TOOL_GET_METADATA",{id:A});return t})}setMetadata(A,t){return M(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_TOOL_SET_METADATA",{toolId:A,update:t})})}createAction(A){return M(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_TOOL_ACTION_CREATE",{id:A.id,shortcut:A.shortcut,icons:j(A.icons),disabled:A.disabled}),this.toolActions[A.id]=A})}removeAction(A){return M(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_TOOL_ACTION_REMOVE",{id:A}),delete this.tools[A]})}createMode(A){return M(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_TOOL_MODE_CREATE",{id:A.id,shortcut:A.shortcut,icons:j(A.icons),preventDrag:A.preventDrag,disabled:A.disabled,cursors:A.cursors}),this.toolModes[A.id]=A})}removeMode(A){return M(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_TOOL_MODE_REMOVE",{id:A}),delete this.tools[A]})}activateMode(A,t){return M(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_TOOL_MODE_ACTIVATE",{toolId:A,modeId:t})})}}var QA=globalThis&&globalThis.__awaiter||function(e,A,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(r){try{d(n.next(r))}catch(u){o(u)}}function c(r){try{d(n.throw(r))}catch(u){o(u)}}function d(r){r.done?s(r.value):i(r.value).then(a,c)}d((n=n.apply(e,A||[])).next())})};class He{constructor(A){this.messageBus=A}open(A){return QA(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_POPOVER_OPEN",Object.assign({},le(A)))})}close(A){return QA(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_POPOVER_CLOSE",{id:A})})}}var jA=globalThis&&globalThis.__awaiter||function(e,A,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(r){try{d(n.next(r))}catch(u){o(u)}}function c(r){try{d(n.throw(r))}catch(u){o(u)}}function d(r){r.done?s(r.value):i(r.value).then(a,c)}d((n=n.apply(e,A||[])).next())})};class $e{constructor(A){this.messageBus=A}open(A){return jA(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_MODAL_OPEN",Object.assign({},le(A)))})}close(A){return jA(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_MODAL_CLOSE",{id:A})})}}var R=globalThis&&globalThis.__awaiter||function(e,A,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(r){try{d(n.next(r))}catch(u){o(u)}}function c(r){try{d(n.throw(r))}catch(u){o(u)}}function d(r){r.done?s(r.value):i(r.value).then(a,c)}d((n=n.apply(e,A||[])).next())})};class At{constructor(A){this.messageBus=A}getWidth(){return R(this,void 0,void 0,function*(){const{width:A}=yield this.messageBus.sendAsync("OBR_ACTION_GET_WIDTH",{});return A})}setWidth(A){return R(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_ACTION_SET_WIDTH",{width:A})})}getHeight(){return R(this,void 0,void 0,function*(){const{height:A}=yield this.messageBus.sendAsync("OBR_ACTION_GET_HEIGHT",{});return A})}setHeight(A){return R(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_ACTION_SET_HEIGHT",{height:A})})}getBadgeText(){return R(this,void 0,void 0,function*(){const{badgeText:A}=yield this.messageBus.sendAsync("OBR_ACTION_GET_BADGE_TEXT",{});return A})}setBadgeText(A){return R(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_ACTION_SET_BADGE_TEXT",{badgeText:A})})}getBadgeBackgroundColor(){return R(this,void 0,void 0,function*(){const{badgeBackgroundColor:A}=yield this.messageBus.sendAsync("OBR_ACTION_GET_BADGE_BACKGROUND_COLOR",{});return A})}setBadgeBackgroundColor(A){return R(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_ACTION_SET_BADGE_BACKGROUND_COLOR",{badgeBackgroundColor:A})})}getIcon(){return R(this,void 0,void 0,function*(){const{icon:A}=yield this.messageBus.sendAsync("OBR_ACTION_GET_ICON",{});return A})}setIcon(A){return R(this,void 0,void 0,function*(){const t=j([{icon:A}]);yield this.messageBus.sendAsync("OBR_ACTION_SET_ICON",{icon:t[0].icon})})}getTitle(){return R(this,void 0,void 0,function*(){const{title:A}=yield this.messageBus.sendAsync("OBR_ACTION_GET_TITLE",{});return A})}setTitle(A){return R(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_ACTION_SET_TITLE",{title:A})})}isOpen(){return R(this,void 0,void 0,function*(){const{isOpen:A}=yield this.messageBus.sendAsync("OBR_ACTION_GET_IS_OPEN",{});return A})}onOpenChange(A){const t=n=>{A(n.isOpen)};return this.messageBus.send("OBR_ACTION_IS_OPEN_SUBSCRIBE",{}),this.messageBus.on("OBR_ACTION_IS_OPEN_EVENT_CHANGE",t),()=>{this.messageBus.send("OBR_IS_OPEN_ACTION_UNSUBSCRIBE",{}),this.messageBus.off("OBR_ACTION_IS_OPEN_EVENT_CHANGE",t)}}}var et=globalThis&&globalThis.__awaiter||function(e,A,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(r){try{d(n.next(r))}catch(u){o(u)}}function c(r){try{d(n.throw(r))}catch(u){o(u)}}function d(r){r.done?s(r.value):i(r.value).then(a,c)}d((n=n.apply(e,A||[])).next())})};NA();class tt{constructor(A){this.messageBus=A}startItemInteraction(A){return et(this,void 0,void 0,function*(){const{id:t}=yield this.messageBus.sendAsync("OBR_INTERACTION_START_ITEM_INTERACTION",{baseState:A});let n=A;return[o=>{const[a,c]=VA(n,o);return n=a,this.messageBus.send("OBR_INTERACTION_UPDATE_ITEM_INTERACTION",{id:t,patches:c}),a},()=>{this.messageBus.send("OBR_INTERACTION_STOP_ITEM_INTERACTION",{id:t})}]})}}var nt=globalThis&&globalThis.__awaiter||function(e,A,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(r){try{d(n.next(r))}catch(u){o(u)}}function c(r){try{d(n.throw(r))}catch(u){o(u)}}function d(r){r.done?s(r.value):i(r.value).then(a,c)}d((n=n.apply(e,A||[])).next())})};class it{constructor(A){this.messageBus=A}getPlayers(){return nt(this,void 0,void 0,function*(){const{players:A}=yield this.messageBus.sendAsync("OBR_PARTY_GET_PLAYERS",{});return A})}onChange(A){const t=n=>{A(n.players)};return this.messageBus.send("OBR_PARTY_SUBSCRIBE",{}),this.messageBus.on("OBR_PARTY_EVENT_CHANGE",t),()=>{this.messageBus.send("OBR_PARTY_UNSUBSCRIBE",{}),this.messageBus.off("OBR_PARTY_EVENT_CHANGE",t)}}}var mA=globalThis&&globalThis.__awaiter||function(e,A,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(r){try{d(n.next(r))}catch(u){o(u)}}function c(r){try{d(n.throw(r))}catch(u){o(u)}}function d(r){r.done?s(r.value):i(r.value).then(a,c)}d((n=n.apply(e,A||[])).next())})};class st{constructor(A){this.messageBus=A}get id(){return this.messageBus.roomId}getPermissions(){return mA(this,void 0,void 0,function*(){const{permissions:A}=yield this.messageBus.sendAsync("OBR_ROOM_GET_PERMISSIONS",{});return A})}getMetadata(){return mA(this,void 0,void 0,function*(){const{metadata:A}=yield this.messageBus.sendAsync("OBR_ROOM_GET_METADATA",{});return A})}setMetadata(A){return mA(this,void 0,void 0,function*(){yield this.messageBus.sendAsync("OBR_ROOM_SET_METADATA",{update:A})})}onMetadataChange(A){const t=n=>{A(n.metadata)};return this.messageBus.send("OBR_ROOM_METADATA_SUBSCRIBE",{}),this.messageBus.on("OBR_ROOM_METADATA_EVENT_CHANGE",t),()=>{this.messageBus.send("OBR_METADATA_ROOM_UNSUBSCRIBE",{}),this.messageBus.off("OBR_ROOM_METADATA_EVENT_CHANGE",t)}}onPermissionsChange(A){const t=n=>{A(n.permissions)};return this.messageBus.send("OBR_ROOM_PERMISSIONS_SUBSCRIBE",{}),this.messageBus.on("OBR_ROOM_PERMISSIONS_EVENT_CHANGE",t),()=>{this.messageBus.send("OBR_PERMISSIONS_ROOM_UNSUBSCRIBE",{}),this.messageBus.off("OBR_ROOM_PERMISSIONS_EVENT_CHANGE",t)}}}var ot=globalThis&&globalThis.__awaiter||function(e,A,t,n){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(r){try{d(n.next(r))}catch(u){o(u)}}function c(r){try{d(n.throw(r))}catch(u){o(u)}}function d(r){r.done?s(r.value):i(r.value).then(a,c)}d((n=n.apply(e,A||[])).next())})};class rt{constructor(A){this.messageBus=A}getTheme(){return ot(this,void 0,void 0,function*(){const{theme:A}=yield this.messageBus.sendAsync("OBR_THEME_GET_THEME",{});return A})}onChange(A){const t=n=>{A(n.theme)};return this.messageBus.send("OBR_THEME_SUBSCRIBE",{}),this.messageBus.on("OBR_THEME_EVENT_CHANGE",t),()=>{this.messageBus.send("OBR_THEME_UNSUBSCRIBE",{}),this.messageBus.off("OBR_THEME_EVENT_CHANGE",t)}}}const at=typeof atob=="function",wA=typeof Buffer=="function",YA=typeof TextDecoder=="function"?new TextDecoder:void 0;typeof TextEncoder=="function"&&new TextEncoder;const dt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ut=Array.prototype.slice.call(dt),tA=(e=>{let A={};return e.forEach((t,n)=>A[t]=n),A})(ut),ct=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,G=String.fromCharCode.bind(String),HA=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),fe=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),lt=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,ft=e=>{switch(e.length){case 4:var A=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),t=A-65536;return G((t>>>10)+55296)+G((t&1023)+56320);case 3:return G((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return G((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},ht=e=>e.replace(lt,ft),vt=e=>{if(e=e.replace(/\s+/g,""),!ct.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(e.length&3));let A,t="",n,i;for(let s=0;s<e.length;)A=tA[e.charAt(s++)]<<18|tA[e.charAt(s++)]<<12|(n=tA[e.charAt(s++)])<<6|(i=tA[e.charAt(s++)]),t+=n===64?G(A>>16&255):i===64?G(A>>16&255,A>>8&255):G(A>>16&255,A>>8&255,A&255);return t},he=at?e=>atob(fe(e)):wA?e=>Buffer.from(e,"base64").toString("binary"):vt,pt=wA?e=>HA(Buffer.from(e,"base64")):e=>HA(he(e).split("").map(A=>A.charCodeAt(0))),mt=wA?e=>Buffer.from(e,"base64").toString("utf8"):YA?e=>YA.decode(pt(e)):e=>ht(he(e)),Et=e=>fe(e.replace(/[-_]/g,A=>A=="-"?"+":"/")),Tt=e=>mt(Et(e));function gt(){const A=new URLSearchParams(window.location.search).get("obrref");let t="",n="";if(A){const s=Tt(A).split(" ");s.length===2&&(t=s[0],n=s[1])}return{origin:t,roomId:n}}var $A;(function(e){e[e.MOVE=0]="MOVE",e[e.LINE=1]="LINE",e[e.QUAD=2]="QUAD",e[e.CONIC=3]="CONIC",e[e.CUBIC=4]="CUBIC",e[e.CLOSE=5]="CLOSE"})($A||($A={}));const BA=gt(),y=new Me(BA.origin,BA.roomId),yt=new Ee(y),Ot=new me(y),Bt=new it(y),_t=new Ve(y),Ct=new Qe(y),St=new je(y),Rt=new Ye(y),Lt=new He(y),Nt=new $e(y),bt=new At(y),It=new tt(y),Mt=new st(y),Vt=new rt(y),m={onReady:e=>{y.ready?e():y.once("OBR_READY",()=>e())},get isReady(){return y.ready},viewport:yt,player:Ot,party:Bt,notification:_t,scene:Ct,contextMenu:St,tool:Rt,popover:Lt,modal:Nt,action:bt,interaction:It,room:Mt,theme:Vt,isAvailable:!!BA.origin};function Ae(e,A){const t=window.matchMedia("(prefers-color-scheme: dark)");console.log(t.matches);const n=t.matches?"dark":"light",i=t.matches?"light":"dark";for(var s=0;s<A.styleSheets.length;s++)for(var o=0;o<A.styleSheets[s].cssRules.length;o++){let a=A.styleSheets[s].cssRules[o];a&&a.media&&a.media.mediaText.includes("prefers-color-scheme")&&(e.mode=="LIGHT"?(a.media.appendMedium(`(prefers-color-scheme: ${n})`),a.media.mediaText.includes(i)&&a.media.deleteMedium(`(prefers-color-scheme: ${i})`)):e.mode=="DARK"&&(a.media.appendMedium(`(prefers-color-scheme: ${i})`),a.media.mediaText.includes(n)&&a.media.deleteMedium(`(prefers-color-scheme: ${n})`)))}}class F{static EXTENSIONID="com.battle-system.ticker";static DING="data:audio/mpeg;base64,SUQzAwAAAAAfdlRJVDIAAAAwAAAAYmVsbCAgc21hbGwgZGVzayBiZWxsICBzaW5nbGUgcmluZyBzb3VuZCBlZmZlY3RUUEUxAAAAFAAAAGZyZWVzb3VuZGVmZmVjdC5uZXRUQUxCAAAAFAAAAGZyZWVzb3VuZGVmZmVjdC5uZXRUWUVSAAAABQAAADIwMTZUQ09OAAAABQAAAFJvY2tDT01NAAAADwAAAGVuZwBleGNlbGxlbnQhVFJDSwAAAAYAAAAwNC8xNgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/zggAAAAABLgCgAAAAAAJcAUAAAAsQkAwQ4QgQcwmKg4FQ6HcoYITEDQDFkABHWfQQMzfopGhOIm/nnQQBsYFKGgas/d8MABygNjYnck/7/jjN7OgRf//3cg6YsgXITghIFvgcoFw//+7/+HHiUAP9QNpQt7DV4nciYpMLQxB4GkIpb//+zf+wpQkBjxO4BTBoJhgALnBoCkwbrh04fIPIuP///t7v//ha4BqoAdwyHIFwAaRg2CxB4rcXORMNUDsTGYIoVCLitxk///zAnGCj//OCALwXUjVbj8FMEC3Uaq8XgqAgDEChCRDDCRKOLBgcDnUW+LDkANBAcXzzmhBCcNOaJy4g3rSNC4V0Ias/d7hc4JwFLmRFP7/h84uM+Zk+bk5//7ugaEXIufHsgA4Abl//6b/+BjRIgcDVmQCh4g8GwQG2EgLPEFx3lMPT///s33+IBicBnxH4AQAG2AnAjAy4IAA2fEExxhc4GKBOH///7//+gAMHD9gbEB65ByugggLLIOVyAC5CQFwEaOMLRBAAi///4sgZgnBnd4WYUiH/84IABgnhnXmK4agAFCM27xXDUAD0qBwSqpBdATGHMWYnN6FgXCNmmsbmsb/c5U5xv++vtT//1f9zf/9QqGsn///5x3dDjzf9mX//U21Pf6t86MgFxYZOpXT///OLq8h4qHYa5PRmYMzRghqA2iRlhCSbUqFOOnIlDpxx33ONR26vp3qvmat1//+cd/+qsaEwW2T///9E1NVr1XqtJ1rbP7v0T//XOqCstf////lge4l2q3MW/DkClkgfg7GKgtRJbqJVDKJLj0TM3/Oxu3381//zggAiCsYPc4sMUm4TnB7jFhia3C//LWt//y+v/1BCBlW3///+/u+r0V6KK9vb6XSq+j2XSRqERALoTueM+vU//60Vf////5vcvTzes4D0FWBmIiB8HZRUHSChwZIFOJGKuP8xWR/1Y3/fzf/+tb//l//6gPwcWv/////f+vsj+9lXaqqqqr/68TUEIIbf/Sr///////MQd2hoeogA5UBWH1agyBLHGQGkDXBkZxUrIR2laqFo34WEk/7pmKjr7da38vp+xv//CFAwf/////////OCADkKgg9pjwyzbhS8ItceGeTc/b3+v/fZX6SzIL8gK4D1D71sr1//1f////5Vh2l5epgQ5kBmHxLUGQJWcZAaQNcGRnkTWQw4xTWqhtP4nC3/0fW6+1v/N3p9Guv/+E0Lev///////+2j/26t9FXborIAA2oxE1f6//9/////5k62W660lyECIBIBAsOUEI9QgYka6pq0rIitV7af2Bh3/fUtLr/20b/+qv//waChq////////6kVe3v/o0v1JiaAAAUcZr/7P/+WtltutJf/84IATgkhm28vDK1tECM23l4ZWtohAiASAQLDlBCOqEDUrFTK0rUVt7afyho7/rqWl1/vTM3/9Vf//ghil////////9f9v/629WpYsgBrjKB3Z4mcmBI2RfQBizCbkHUjYTaJEspjQjZmNNO/fPb6BgA+S7/////zW//OX//QCE4Dimcf/////1/qpe7W/Wy62t93fpdEWcFJYriPR///q/////zF2Z4icmBI2RHQBizTcg6iDYTapMTiIfJVNNd/vQ9voFQB8l3/////mt/7Uv/zggCACpoPX48NVG4TAza/Hhqo2F//6AQohGmx////////9/+vrb/fX60BQ4AwYcLv///+WEVniYmIAIYhZAEpkIKBVRWhB4Oyg65OquWlbaM5jzvoBoFkT7/36Grt//7e3X0//4NUgKFXlI///////9Sm/99L//60kallgJhQHEgt/ME10m///U3////8wdWZ4qaeBLGRfQBKaCFgVSWIoPHZQ66aK6E77tVUl9QdgupDv/fqRXW3//t7ddVL//qBq2D3XmR///////6kG/1+//OCAJsLShFXjw1UbhTrPrMeG2jY/1fqr1qXopCkQdEHEf2f9P//KkZXeIqIEsZGBCIHdHqhgu4wQ7BkFamTO6FDUp1oOtD1URzAOgRTf/1NW3///9Ve3/+wJvgGuiax8Fv//////6aRr/////92NxZAG+CgKACuggtv//6m/////ltxuW2QsaVCGCBw4ALVQy7ojUEMEAhTpMpJCquqyq6+lRGGANwRTV//U23///9Vf//0AatgJFE5gW///////pq///7+r9FLUdDuAmDGC3//84IAqQtiD1OPDbRuFIM2rlYbaNr7P/+Wbn/iIcXRUaEGAQoemJj4kzCEHDRTBZhRetqS0WWzMm2kpExBqQKYWQtT6ulVRev////psr//3RBDYAHUn1ihit//////8jRrle3////+6JkTIIRAHDIgKEyq9Tv//+pv////5OmaPDTLuLoqMCDAIUPTEwW9HoBQYaKLBQ4fQWyLJvRbop9JBExC1YFIFkLU+r3uvTWv///+myv//sCHoAddPrH0S///////zpfP//////ZzQWWBx//zggC4DJYPTT8ONG4Xuz6bHhyo2AQIhRomDiP+R//5UDRFeWmIFQVGhBAgsM64Jgzs6jBVcggeIJKdJ3ai9SCVBCqiywaUTMNMPt/+v////6Nf//2BOIAO0N1i0Fv//////1mpMlZf/////qWUATCgZ84GMFJuy2///U3////8njRFeGh3FTVGBCBBYZ1wRhnYPUqUggPMHQUpVkGTUpe2qiywaUScNMPt/+v/0F/0W/0X///YE8QBWg3THQS///////0TH/////61ImQW1A0g//OCALAMAg9Njw40bhYrNpseHGjYgLKT01/2f/9Qkl/iHUkBCaCCJCqIGo56pfZ0ork8m/EE0FGiKLKTXt1azFI2DIoGWon1Jv//////1f//0QaqgDyLxni3///7f/1eUBlEP/////2NhcoU8id3bV///t/////LscnsO7CpYRAQDwqSDh0psU+rmDUd7F5TdAwQ2QTTegqrrMVJB6IAMRBps3/V/3tv//9Vv//sCdQA7q8dRb//////+oqN/////9aBmGOAZYaIDA5M/9n//SD/84IAswtOD0s/JnRuFgM2kn5E6NgzR4h4dyIGImQBcSIbmmOrFG1UpTCrhNEzZaKdNnXUySa8xTSMgSwFaKOh/////7f7tav//RBqeAY+Osah///////1GRSR//7N/Sr/SrUUQhCAY8yG+HVJDf/R//yxGYNLQ7iQKBMAC4kQXnMf/o0cfrwgXTmaKKZinY0ddk0k2zFbmQJAFcSdD//////V7spf//sELACTx5GFv//////6jJP7W9r/9HX1e6JAgWdjpM////8qku+aGUSNSf/zggC8C7WfS48aNGwV0zaTHjQo2KCAJnGhwzli45WclFs5GG1Bjd13ru130elUDWgsAHiZ///7ro1fbW/3rrb//1hCcAVQ4zx////1f//UkO9//////0zATeBpwwaeaJ0f9H//KoqtDtTuRHpNzA/Jwgamujcz5w1mW5qdyWzOtF0FppIJJp3XzZzgNYALCEyb///V2a1a1b/66///whZASu5HFv//////6isl62X6X/1/0VallgJBQADAfEcWhH/Z//ywRFZoiYYnvibyBxVg//OCAMMK/Z9JPyJUbBezPpceTOjYknXQzTrafFnJyTYtz5iiYLQUcVXqd+cMlohyQBEiGLS/r9/auu6W/ob/pVbf/8IRgEsjx8H///////nSVb9e1vX92q+t0daQnkBpwH1Nf/QiKrw9O5PDE3oBQkwIHixU+WZB8wfw45Ulm6KK6lIJostCrnDJFg2YAyRDFq/1r9anV///+qqr//whUAWgPIwt///////cxPev/Wtup+l+uvUmMoAE9EFQ9////0BEZlhodyY+JvYI0YOlO7H/84IAyAuFm0uPJnRsFyM2lx5E6NhJtns++u1qeVaanWdNaaLstkWTzJBExBPFyBQN///+vQWzdNfvt/V//rCEEBbzj6f///6v//nSr/p/qWzf9vvWoshAAAQXC5oWhn/oRWZY//TvxN7BGTg6ILMRSs+Zz/yY+psdbzVdTpuitkULcyQRMQBjEYAPDf//91UNBaK6run/skyf//4QoAUs5HH///////rMUffqX6v/bszslpGIfkAVHDLzrv+z//pAt2+enYnvib0CkwuiqVKUm//zggDLC2GbS48mFGwX0zaW/kto2DbcL6kMXYkkxgmjTWmq6nQ/Nawg8CuiNX/7Va2XUpOtJb2a77f6Ppf/6w3QLVHj8///////1lBP13ur/6v3vWrdiTAahC5TP/0S27NLsKupN0BTRGiqVQStnV1P2IQt0rJIoOmtNmTVvV2rCUghkUV/9fX2X1Vfazf+uv//8IUALTHj8f///+j//9aR//vbfWrarf/UsoA1AgYcsGDUA+l3+oCS7f/ZK/AXMRAcZEBrpdpJlDsW3XfVYozo//OCAMwLLZtLPyZUbBY7OpJ+TKjYm6mQQRps93Zs6Y3BuiAnw+6H/a+pdtdBVF16q/2qqVX//6xLgW05Hf///b//6jhSUv+u69+39VS7KapEyC2oGgGB8x6z/kpbd3hmJX0C5CIBxkFBNOqRMIVZRbY8ZIXSNjdE+ktzBmrPoPVzqNwKBATEPuh/rWv/qSdJW9aj1v+p1f//hMkFKOWD////q1fd/9AwS9aVdBdf1f/r9nKoImorjuQAVVhniHczfwLoAEiKYYdugcupptNmfqf/84IA1Qv5m0cvJlRsF1s6jn5M6NhFB0zyZga0nauuvLKcyApQC4CZN/2/9bqa2tbX/U9VS6///H0Fa5Kf///W3/6vOHT32f67Luhe//foFMMWAeqg3hM0Kf+i2215ZiI1AmgCyEaWMFt51WUEst8e3Ni0UD5utZoj2pqTWnnU3SBBBZMIGb///V6L79v+9f//4TYD6vJQ///////9U96uy+urqfSdd/60jEMHAd1iM0aX/6i/+SMpxA9BLzI8JQpiCJoxUWJ+FSTm83QqRTRZBP/zggDTC5mfSY8aU2wWQzqOfkwm2J1UU9Ln3OBOgTwOozr/vq11WRXWzIpo0VoJ/9f//+UgpUyU///+66u3+2oj0Valen27VLZvWvurdiLBRsILM//13/uRlOIBRAM0ZEwlBCCC3swyE/LdT2CZhOIouindalpsyHPucCNAhwOpNl9+r1WVrRayLOtSFBX9VGr//8JiAdEywf//////+pNH00lu6Vk3QehTdFa2tVqfpmAfmBkxQpzKAJbd3hmNXUCeAGmlhAysZnFtyaOctyWJ//OCANkLxZ1G3iZ0bRjLNo2+TOja0m9I8rRd0KrKrqLBlQAjgsYDwP/qu3/6WtXr/fV7//9IFa5Hf//////rSP+pV00KmWyNDtvdD3apZSDPQMzgbysmv+hVZmiIhjW+JvgFzyEVHWkTbKtQnbzPraLsbWec8qzJLQX1KXnEqAFYL4CBH/32R0u9a6W7KUk1df2Vdqv/+E0ArV5HH///////039VttutbvqetTf7OQEK4F69IJdvpdnN74C+AcgJSmEaeSYUxbzdbNXNupNA1uz/84IA0wthm0c/JjNsFts6kx5kJtiTVoMcWgrOGC0QKmAZokqX+q9Sf6l2svdN+p/Z9un//nQXhlj//////9Zg/72/61et6qlursmK4B2CIofOI/65bdqdmNb0CegcgDJSIrTyUIOWqbK7GtyVnE0FpJovZamVqywYLRAqUASYoqX+kk6mWvoqSdSK06TOvt6laq///wz4F4ZYf//////60Pq0tfXUv/3Q1qrUdDJgAViEAemfb6CS3Z4die+IvgFZMJQtFjVFnR8prLdWLsxZuv/zggDYC3GdST8mU2wYkzaOfkzm2CbGmgifU6qWrsidCPggsT+z/36Pe7e6nstVj9l1vsur//6x9gWi5Hf/////b9aj376qC12dFb+kuvsmluiK8BKGIzPS8lt0O7E96TfQKyYShaLDyiTMXSpZq44y5y7OZKQZaTKdSv0JiE9ApYn9k/912db+k6r9qCr/9ev//1hMQF85HP///69tql/9FTfVdStdTv71Vv+h0BXwPYA+c0Ps2UD/+SRJxkOMCgulEkXx5i66v3tNf1/mIkUE//OCANYLzZ1HPyZUbBeTOo5+TKbY2UpmWgylKo+ZosdApRQQacj///VZabLda66n29v///F2CKRlD///7/q/9JSaPdVtVd79BVD6KXRZSzgZOEAwSxKNOS6Prltt/2avxN9AwVFwpOjRTWo9drp+K+Qi6SZ5kGrWhSvbWZosdApxWweJv+l/7NUpb0UU6k7/ZTVqSr//w1wI+ZQf/////+3U/9VS39e2tanbW1Nt1pCugToJwez9+xCSS3/ZPagXwAKCIgERpbl3Jvt+6lmqJwn/84IA1QvZnUrfMjRtF4s2jl5MZtggkeRSuzOnTd0b5mnSDCABPDnf7Kvsjtu13ZDd621K90v//8XYI05S/////r9/nDF9tqOpCrqUpaLqSsl/smRQBWItI5ySz+1PagTU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/lkFRzL////1be6W2pT/vUmpTe72V2Wl077HSk9Ekze7YXZtvqua3WAyW7bVy2sXUDQDkP4f6udMk7lGtifE8//zggDQCsmbNNo+EWwYizJptnwk2EuIGtZN1nr0Kaka0laSlLRU4ZBANxbUkX9//en2fVdd29Pe/v//w1oKpnP///s31er9/+rfs7XVUukrX3S9ZED32oLYl+sbtqF1onARg/ixsTg4Txv+/xuLLSBqsdNM0Sd9OyrqVdBSzFThekAnjRSR+9FfVoujTVUr+9+717NUl//rLILzOf///72/qt9W1k717J1br201r21N0iIunRD+5z6kel9TdAAuW54Zlm2g33LeJioTGeMMkkr///OCANMLMZs/Lz4SbBlrMnpefGLYMd9XVLxbSQauo8XU0UqD6nTp1S6tIyAwAAnxO1f6T1bam106G9F/1buqqpf//DJQVHMv///1f2//v0PpLtaytlf+z6ii/pf0+qpAlYMzeNCll3ujGzA1xpjhVp5PG1qgNrPlzhV+sxbSVgpMaIpovQdLuzspy6tIyCSAJcZf///rrXruvr6ruuqpf//nQVOZf///////1Lr6/Sr/rZnX/UV0tPsv+lHYnUsuXXe1vXSb7Cyoo6TIb768LU3/84IAzwxRmUM/PbJsFqM2gl57YthI3xbcG8anQRZBBbKa7sk9b96gFoKwSLf9JNJVNNWtm//ZTpvfdqbpK//ww4KhmDff//3717P+3vZt9bv9b66mbX3ehrJJnexh36iM+7itBc2v9reugG2F1SR0mQ3314UWlNzYt4MPetHklJILaeXWhdVKu9QCsHQX2/3STUq6dVf/33/3R6Sv/8sguGc/////////7dftbtvrbzJFzkFNdf9WjJqTrAW57rE5IhLKSBUrKBnWp4E8CBqJjf/zggDODC2bQS89smwV2zaCXntk2No9Zs5vMXdE4qyms7qUrUknApgArDiNBr+6ut36v9fd2dtXX//+4ioLuZf///112//6+lv+tbVWq7fd/WVHsmOz06bEznFaAW3dpE5IhLKBQsmoxjNnkkaRirGfFd12++YHTdBA471Vst2QVqSeBhABWHPUuvd1Nvqbt7dLb1VvbWr//Oguc5/////b//3Qe1Wymuhqav3qX/KrDui3v7bbZI/ufNgJOX6VuCNyzA2CQqnrZvihDmit77/+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JSd1VLdvs+tqKzxQNq0QI8YAWMxqorf32ejft+v6vse77//zggDNCXjpHyo9qkoTmdY5lHtUlP/icGa3L6Wdv6KFf////////////////////////////////////////////////////////////////5Tjbbc6+ICsRwYW24FlWZ+sSppq2WrTr361rRUxsgpEGMZA0s1Fon9ujf2//Vc09f/2oqhxTNv///9t/SomSNtuYe7iK6ULAZNaxK63bvXer9+gpNdw+izHb1p////7dK2729KaW40F//////////////////////////////////OCAO4NxOkfxiWnSg850kJUS1SU//////////////////////////////////////////////////////////////////////////////////////////8mSRtuRtsPsHb4Y0BjmpED01L3V1tofV9VGsKEWYYa9UM6v+n2/9f6/W37afUF//7H+jAwBwoOAggYMno7H/bv///XjoRrfr///////7/96hRm////////////////////////////////////////////////////84AA/xDg6SMoHaVKDOnSR7ZDSpT//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wYALoIIGDIvR2////6dVNEQHVHpXs39v///////KMwpyAACYGImXmhFi////2fcEO//////Jf////////////////////////////////////////////////////////////OCAP8ToOseyAjiSge51j2QEUSU//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////5TgYAEwMRMpYbL//9wQ7/////8kP//////////////////////////////////////////////////////////////////////////////////////////84IA/xT8YSUoBCI2BPDCSlAIBGz////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////zggD/F4ABLgAAAAAAAAJcAAAAAP////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////OCAP8XgAEuAAAAAAAAAlwAAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////84IA/xeAAS4AAAAAAAACXAAAAAD/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/zggD/F4ABLgAAAAAAAAJcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"}let ee=!1,_A;document.querySelector("#app").innerHTML=`
    <div class=main><div id="timerArea">Loading..</div></div>`;await m.onReady(async()=>{const e=await m.theme.getTheme();_A=e.mode,ee=await m.scene.isReady(),Ae(e,document),m.theme.onChange(t=>{_A=t.mode,Ae(t,document)}),m.action.onOpenChange(async t=>{t&&(await m.action.setBadgeText(void 0),await m.action.setBadgeBackgroundColor("#BB99FF"),await m.action.setIcon("/icon.svg"))}),await m.player.getRole()==="GM"?(ee?te():document.querySelector("#app").innerHTML=`
            <div class=main><div id="timerArea" class="disabled">Disabled until Scene Ready..</div></div>`,m.scene.onReadyChange(t=>{t?te():document.querySelector("#app").innerHTML=`
                <div class=main><div id="timerArea" class="disabled">Disabled until Scene Ready..</div></div>`})):wt()});function wt(){let A,t;document.querySelector("#app").innerHTML=`<div id="activeTimer"></div>
    <div id="inactiveTimer" class="timerHidden"></div>`;const n=document.getElementById("activeTimer"),i=document.getElementById("inactiveTimer");m.scene.onMetadataChange(async s=>{const a=s[`${F.EXTENSIONID}/metadata_timeritem`]?.TimeBomb;if(a){if(a.visible===!1&&(n.hidden=!0,i.innerHTML="Time is running out.."),a.visible===!0&&(i.innerHTML="",n.hidden=!1),a.startTime&&a.endTime&&a.endTime!=A&&a.start===!0){A=a.endTime;const c=new Date(a.startTime);let r=new Date(a.endTime).getTime()-c.getTime();if(r<3)return;let u=Math.round(r/1e3);n.innerHTML=Ut(u+"s");const l=document.getElementById("timerNumbers");t=setInterval(async function(){let f=Math.floor(u/60),h=u-f*60;u--,h--,h<=-1&&(f--,h=60-1),h<10?l.innerText=`${f}:0${h}`:l.innerText=`${f}:${h}`,u<=0&&(clearInterval(t),l.innerText="Ding!"),u%5===0&&l.innerText!=="Ding!"?n.hidden===!1?await Y(l.innerText):await Y("Tick tock.."):l.innerText==="Ding!"&&await pe()},1e3)}if(a.start==!1&&a.reset==!1&&A!==void 0){const c=document.getElementById("timerNumbers").innerText;n.innerHTML=`
                <div class="timerPaused">⏳ ${c} ⌛</div>
                <div class="container-glass">
                </div>`,clearInterval(t),await Y("Paused..")}a.reset==!0&&A!==void 0&&(n.innerHTML=`
                <div class="timerNumbers">⏳...</div>
                <div class="container-glass">
                </div>`,clearInterval(t),await ve())}}),n.innerHTML=`
    <div class="timerNumbers">⏳...</div>
    <div class="container-glass">
    </div>`}function Ut(e){return`<div class="timerNumbers" id="timerNumbers">0:00</div>
    <div class="container-glass">
    <div class="glass"></div>
    <div class="get-hourglass">
    <svg width="140px" height="150px" viewBox="0 0 14 18">
    <defs>
    </defs>
    <g id="sandclock" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">
        <path d="M13.0986667,16.465 L12.7226667,16.465 C12.6796667,16.031 12.5996667,15.6073333 12.4886667,15.1963333 C12.084,13.6953333 11.269,12.3646667 10.352,11.3396667 C9.52833333,10.4183333 8.623,9.74333333 7.859,9.41433333 C7.859,9.41433333 7.56766667,9.20133333 7.56766667,8.97866667 C7.56766667,8.75633333 7.859,8.54533333 7.859,8.54533333 C9.687,7.74033333 12.3786667,4.93333333 12.7223333,1.50133333 L13.0986667,1.50133333 C13.5006667,1.50133333 13.8266667,1.17533333 13.8266667,0.773666667 C13.8266667,0.371666667 13.5006667,0.0456666667 13.0986667,0.0456666667 L0.776,0.0456666667 C0.374,0.0456666667 0.048,0.371666667 0.048,0.773666667 C0.048,1.17533333 0.374,1.50133333 0.776,1.50133333 L1.152,1.50133333 C1.49233333,4.93666667 4.15866667,7.745 6.00533333,8.54733333 C6.00533333,8.54733333 6.31133333,8.737 6.31133333,8.97866667 C6.31133333,9.22033333 6.01566667,9.421 6.01566667,9.421 C5.26233333,9.75266667 4.36333333,10.4246667 3.54166667,11.3396667 C2.62066667,12.3646667 1.79833333,13.6953333 1.389,15.1963333 C1.277,15.6073333 1.196,16.031 1.15266667,16.465 L0.776,16.465 C0.374,16.465 0.048,16.791 0.048,17.1926667 C0.048,17.5946667 0.374,17.9206667 0.776,17.9206667 L13.0986667,17.9206667 C13.5006667,17.9206667 13.8266667,17.5946667 13.8266667,17.1926667 C13.8263333,16.791 13.5006667,16.465 13.0986667,16.465 L13.0986667,16.465 Z M2.47033333,16.4923333 L1.892,16.4923333 C1.92166667,16.023 1.97666667,15.5933333 2.053,15.1963333 C2.273,14.054 2.67366667,13.1896667 3.18666667,12.4753333 C3.47733333,12.0703333 3.80133333,11.6873333 4.14033333,11.3396667 C4.80733333,10.6553333 5.88879069,10.1021427 6.19133333,9.82066667 C6.49387598,9.53919067 6.65833333,9.39266667 6.65833333,8.997 C6.65833333,8.60133333 6.45611593,8.47363293 6.03570577,8.2112428 C5.61529562,7.94885266 4.034,6.69966667 3.17433333,5.49566667 C2.488,4.53433333 2.00533333,3.328 1.891,1.50166667 L11.982,1.50166667 C11.8663333,3.322 11.378,4.52866667 10.687,5.49133333 C9.82466667,6.69266667 8.52740499,7.75976575 7.89733907,8.12268078 C7.26727316,8.48559582 7.22133333,8.61 7.22133333,8.98333333 C7.22133333,9.35666667 7.41784912,9.52330154 7.89733907,9.82066691 C8.37682903,10.1180323 9.08133333,10.6486667 9.75266667,11.3393333 C10.0873333,11.6833333 10.4066667,12.0626667 10.6933333,12.4633333 C11.2053333,13.179 11.6043333,14.0463333 11.823,15.196 C11.8983333,15.5926667 11.9523333,16.0223333 11.9816667,16.492 L11.4053333,16.492 C4.14033338,16.4920002 5.86059567,16.4920002 2.47033333,16.4923333 Z" id="Shape" fill="transparent"></path>
			
	<g id="sand">
        <path d="M7.00695799,10.3484497 C7.00695799,10.3484497 6.27532958,10.4129639 7.00695799,10.3484497 C7.73858641,10.2839355 7.00695799,10.3484497 7.00695799,10.3484497 C7.00695799,10.3484497 7.78173827,9.99768063 7.09265135,10.548584 C6.40356444,11.0994873 7.09265137,10.548584 7.09265137,10.548584 L7.09265137,10.5493774 L11.4924319,16.4705197 L2.52148436,16.4705197 L6.87243652,10.5493774 L6.80957031,10.548584 C6.80957031,10.548584 7.1925659,10.737854 6.87243651,10.548584 C6.37234656,10.2529159 7.00695799,10.3484497 7.00695799,10.3484497 Z" id="Path-26" fill="#C62626" sketch:type="MSShapeGroup">
                                
                <animate 
                            attributeName="d" 
                dur=${e} 
                repeatCount="once"
                keyTimes="0;
                        .01;
                        .2;
                        .4;
                        .7;
                        .8;
                        .99;
                        1"
                        
                values="M2.33630371,3.07006836 C2.33630371,3.07006836 5.43261719,3.33813477 6.80957031,3.33813477 C8.18652344,3.33813477 11.3754883,3.07006836 11.3754883,3.07006836 C11.3754883,3.07006836 10.8122559,4.96514893 9.58630371,6.16516113 C8.36035156,7.36517334 7.09265137,8.2623291 7.09265137,8.2623291 L7.09265137,8.35028076 L7.09265137,8.46459961 L6.87243652,8.46459961 L6.87243652,8.35028076 L6.80957031,8.2623291 C6.80957031,8.2623291 4.9704053,7.27703707 3.96130371,5.96057129 C2.5045166,4.06005859 2.33630371,3.07006836 2.33630371,3.07006836 Z;
    
                                            
                                                                    M2.375,3.11462402 C2.375,3.11462402 5.71569824,3.44421387 7.09265137,3.44421387 C8.46960449,3.44421387 11.4150391,3.31262207 11.4150391,3.31262207 C11.4150391,3.31262207 10.8122559,4.96514893 9.58630371,6.16516113 C8.36035156,7.36517334 7.09265137,8.2623291 7.09265137,8.2623291 L7.09265137,15.5496216 L7.09265137,16.47052 L6.87243652,16.47052 L6.87243652,15.5496216 L6.80957031,8.2623291 C6.80957031,8.2623291 4.9704053,7.27703707 3.96130371,5.96057129 C2.5045166,4.06005859 2.375,3.11462402 2.375,3.11462402 Z;
                                            
                                                                    M2.49230957,3.31262207 C2.49230957,3.31262207 5.71569824,3.66851807 7.09265137,3.66851807 C8.46960449,3.66851807 11.3153076,3.53222656 11.3153076,3.53222656 C11.3153076,3.53222656 10.8122559,4.96514893 9.58630371,6.16516113 C8.36035156,7.36517334 7.09265137,8.2623291 7.09265137,8.2623291 L7.09265137,15.149231 L7.9152832,16.47052 L6.10144043,16.47052 L6.87243652,15.149231 L6.80957031,8.2623291 C6.80957031,8.2623291 4.9704053,7.27703707 3.96130371,5.96057129 C2.5045166,4.06005859 2.49230957,3.31262207 2.49230957,3.31262207 Z;
                                    
                                                M2.98474121,4.37164307 C2.98474121,4.37164307 5.49548338,4.7074585 6.87243651,4.7074585 C8.24938963,4.7074585 10.8119509,4.64428711 10.8119509,4.64428711 C10.8119509,4.64428711 10.8122559,4.96514893 9.58630371,6.16516113 C8.36035156,7.36517334 7.09265137,8.2623291 7.09265137,8.2623291 L7.09265137,12.5493774 L9.36248779,16.47052 L4.5581665,16.47052 L6.87243652,12.5493774 L6.80957031,8.2623291 C6.80957031,8.2623291 4.9704053,7.27703707 3.96130371,5.96057129 C2.5045166,4.06005859 2.98474121,4.37164307 2.98474121,4.37164307 Z;
                                            
                                            M4.49743651,6.36560059 C4.49743651,6.36560059 5.63000487,6.72412109 7.00695799,6.72412109 C8.38391112,6.72412109 9.56188963,6.36560059 9.56188963,6.36560059 C9.56188963,6.36560059 9.48870848,6.54571533 8.79962157,7.09661865 C8.11053465,7.64752197 7.09265137,8.2623291 7.09265137,8.2623291 L7.09265137,10.5493774 L11.4924319,16.4705197 L2.52148436,16.4705197 L6.87243652,10.5493774 L6.80957031,8.2623291 C6.80957031,8.2623291 6.01727463,8.16043491 4.82800292,6.81622307 C4.42932128,6.36560059 4.49743651,6.36560059 4.49743651,6.36560059 Z;
                                            
                                            M5.87017821,7.51904297 C5.87017821,7.51904297 6.14080809,7.70904542 6.87243651,7.64453126 C7.60406493,7.5800171 7.47180174,7.51904297 7.47180174,7.51904297 C7.47180174,7.51904297 8.51336669,7.23876953 7.82427977,7.78967285 C7.13519286,8.34057617 7.09265137,8.2623291 7.09265137,8.2623291 L7.09265137,10.5493774 L11.4924319,16.4705197 L2.52148436,16.4705197 L6.87243652,10.5493774 L6.80957031,8.2623291 C6.80957031,8.2623291 6.66632079,8.14239502 6.34619139,7.953125 C5.84610144,7.65745695 5.87017821,7.51904297 5.87017821,7.51904297 Z;
                                            
                                            M7.00695799,8.06219482 C7.00695799,8.06219482 6.27532958,8.12670898 7.00695799,8.06219482 C7.73858641,7.99768066 7.00695799,8.06219482 7.00695799,8.06219482 C7.00695799,8.06219482 7.78173827,7.71142576 7.09265135,8.26232908 C6.40356444,8.8132324 7.09265137,8.2623291 7.09265137,8.2623291 L7.09265137,10.5493774 L11.4924319,16.4705197 L2.52148436,16.4705197 L6.87243652,10.5493774 L6.80957031,8.2623291 C6.80957031,8.2623291 7.1925659,8.45159912 6.87243651,8.2623291 C6.37234656,7.96666105 7.00695799,8.06219482 7.00695799,8.06219482 Z;
                                            
                                            M7.00695799,10.3484497 C7.00695799,10.3484497 6.27532958,10.4129639 7.00695799,10.3484497 C7.73858641,10.2839355 7.00695799,10.3484497 7.00695799,10.3484497 C7.00695799,10.3484497 7.78173827,9.99768063 7.09265135,10.548584 C6.40356444,11.0994873 7.09265137,10.548584 7.09265137,10.548584 L7.09265137,10.5493774 L11.4924319,16.4705197 L2.52148436,16.4705197 L6.87243652,10.5493774 L6.80957031,10.548584 C6.80957031,10.548584 7.1925659,10.737854 6.87243651,10.548584 C6.37234656,10.2529159 7.00695799,10.3484497 7.00695799,10.3484497 Z;"
                                />
                                
                                <animate 
                            attributeName="fill" 
                dur=${e} 
                repeatCount="once"
                keyTimes="0;
                        .5;
                        1"
                        
                values="#e2cba5;#e2cba5;#C62626;"
                                />
                </path>
            </g>
        </g>
    </svg></div>

    <div class="txt-center">
    <span id="timer">
        <span id="time"></span>    
    </span>
    </div>
    </div>`}function te(){document.querySelector("#app").innerHTML=`
    <div class=main>
        <div id="topMost">
        <div id="slideToggle">
        <label class="toggle">
        <span id="visibleLabel" class="toggle-label">Visible</span>
        <input id="visibleToggle" class="toggle-checkbox" type="checkbox" checked>
        <div class="toggle-switch"></div>
        </label>
        </div>
        <div id="timerArea" class="floatRight">0:00</div>
        </div>
        <div class="threeButtons">
            <div id="addTen" class="oneThird">+ 10M</div>
            <div id="addFive" class="oneThird">+ 5M</div>
            <div id="addOne" class="oneThird"> + 1M</div>
            <div id="addClassic" class="oneThird">+ 10S</div>
        </div>
        <div class="threeButtons minus">
            <div id="dropTen" class="oneFourth">- 10M</div>
            <div id="dropFive" class="oneFourth">- 5M</div>
            <div id="dropOne" class="oneFourth"> - 1M</div>
            <div id="dropClassic" class="oneFourth">- 10S</div>
        </div>
        <div class="timerButtons">
        <div id="startButton" class="button">Start <span class="material-symbols-outlined">
            </span></div>
        <div id="stopButton" class="button">Pause <span class="material-symbols-outlined">
            </span></div>
        <div id="resetButton" class="button">Reset <span class="material-symbols-outlined">
            </span></div>
        </div>
    </div>
    `;let e=0,A=0,t=1e3,n=0,i=!1,s,o;const a=document.getElementById("stopButton"),c=document.getElementById("resetButton"),d=document.getElementById("startButton"),r=document.getElementById("visibleToggle"),u=document.getElementById("visibleLabel");let l=r.checked;const f=document.getElementById("addClassic"),h=document.getElementById("addOne"),E=document.getElementById("addFive"),O=document.getElementById("addTen"),B=document.getElementById("dropClassic"),_=document.getElementById("dropOne"),U=document.getElementById("dropFive"),cA=document.getElementById("dropTen"),p=document.getElementById("timerArea"),UA=document.querySelector(".threeButtons");a.hidden=!0,r.onchange=async function(){l=r.checked,u.innerText=l?"Visible":"Hidden";let D={visible:l},I={};I[`${F.EXTENSIONID}/metadata_timeritem`]={TimeBomb:D},await m.scene.setMetadata(I)},c.onclick=async function(){p.innerText="0:00",UA.hidden=!1,d.hidden=!1,a.hidden=!0,i=!1,e=0,A=0,n=0;let D={reset:!0,start:!1,visible:l},I={};I[`${F.EXTENSIONID}/metadata_timeritem`]={TimeBomb:D},await m.scene.setMetadata(I),await ve()},f.onclick=async function(){A+=10,i&&(n+=10,await w()),A>=60&&(A=A-60,e+=1),A==0||A<10?p.innerText=`${e}:0${A}`:p.innerText=`${e}:${A}`},B.onclick=async function(){A<11&&e==0||(A-=10,i&&(n-=10,await w()),A<=0&&(A=A+60,e-=1),A==0||A<10?p.innerText=`${e}:0${A}`:p.innerText=`${e}:${A}`)},O.onclick=async function(){e+=10,i&&(n+=10*60,await w()),A==0?p.innerText=`${e}:0${A}`:p.innerText=`${e}:${A}`},cA.onclick=async function(){e<10||(e-=10,i&&(n-=10*60,await w()),A==0?p.innerText=`${e}:0${A}`:p.innerText=`${e}:${A}`)},E.onclick=async function(){e+=5,i&&(n+=5*60,await w()),A==0?p.innerText=`${e}:0${A}`:p.innerText=`${e}:${A}`},U.onclick=async function(){e<5||(e-=5,i&&(n-=5*60,await w()),A==0?p.innerText=`${e}:0${A}`:p.innerText=`${e}:${A}`)},h.onclick=async function(){e+=1,i&&(n+=1*60,await w()),A==0?p.innerText=`${e}:0${A}`:p.innerText=`${e}:${A}`},_.onclick=async function(){e<1||(e-=1,i&&(n-=1*60,await w()),A==0?p.innerText=`${e}:0${A}`:p.innerText=`${e}:${A}`)},d.onclick=async function(){if(e===0&&A>0?n=A:e>0&&A===0?n=e*60:n=e*60+A,n>0&&i!=!0){i=!0,a.hidden=!1,d.hidden=!0,c.hidden=!0;let D=setInterval(async function(){n--,A--,A<=-1&&(e--,A=60-1),A<10?p.innerText=`${e}:0${A}`:p.innerText=`${e}:${A}`,a.onclick=async function(){clearInterval(D),d.hidden=!1,c.hidden=!1,a.hidden=!0,i=!1;let I={start:!1,reset:!1,visible:l},DA={};DA[`${F.EXTENSIONID}/metadata_timeritem`]={TimeBomb:I},await m.scene.setMetadata(DA),await Y("Paused..")},n<=0&&(clearInterval(D),p.innerText="Ding!",UA.hidden=!0,d.hidden=!0,a.hidden=!0,c.hidden=!1,Dt.play()),n%5===0&&p.innerText!=="Ding!"?await Y(p.innerText):p.innerText==="Ding!"&&(await pe(),setTimeout(()=>{c.click()},2e3))},t);await w()}};async function w(){s=new Date(Date.now()).toISOString(),o=new Date(Date.now()+n*1e3).toISOString();let D={startTime:s,endTime:o,start:!0,reset:!1,visible:l},I={};I[`${F.EXTENSIONID}/metadata_timeritem`]={TimeBomb:D},await m.scene.setMetadata(I)}}async function ve(){await m.action.setBadgeText(void 0),await m.action.setBadgeBackgroundColor("#BB99FF")}async function Y(e){if(!await m.action.isOpen()){await m.action.setBadgeText(e);const t=_A=="DARK"?"yellow":"#159cc5";await m.action.setBadgeBackgroundColor(t)}}async function pe(){await m.action.isOpen()||(await m.action.setBadgeText("Time's Up!"),await m.action.setBadgeBackgroundColor("red"))}const Dt=new Audio(F.DING);
